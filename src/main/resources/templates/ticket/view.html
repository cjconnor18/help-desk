<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head>
    <div th:replace="fragments :: head"></div>
    <link rel="stylesheet" th:href="@{/css/home.css}">
</head>
<body>
<div class="headerNav" th:replace="fragments :: headerNav"></div>
<main>
    <p>Ticket Number: <span th:text="${ticket.id}"></span></p>
    <p>Date Created: <span th:text="${ticket.dateCreated}"></span></p>
    <p>Title: <span th:text="${ticket.title}"></span></p>

    <p>Creator: <span th:text="${ticket.userCreated.userProfile.firstName} + ' ' + ${ticket.userCreated.userProfile.lastName}"></span></p>
    <p>Status: <span th:text="${ticket.statusLevel.displayName}"></span></p>
    <p>Description: <span th:text="${ticket.description}"></span></p>

    <form th:action="@{/ticket/view/{id}(id=${ticket.id})}" method="post">
        <Label>
            <select name="statusLevelChosen">
                <th:block th:each="statusLevel : ${statusLevels}">
                    <option th:if="${statusLevel.equals(ticket.statusLevel)}" th:value="${statusLevel}" th:text="${statusLevel.displayName}" selected></option>
                    <option th:unless="${statusLevel.equals(ticket.statusLevel)}" th:value="${statusLevel}" th:text="${statusLevel.displayName}"></option>
                </th:block>
            </select>
        </Label>
        <input type="submit" value="Change Status">
    </form>
</main>
</body>
</html>